@model CommunityPortal.Models.Profile.StaffProfileViewModel
@using Microsoft.AspNetCore.Identity
@inject UserManager<ApplicationUser> UserManager

@{
    ViewData["Title"] = "Staff Profile";
    var canEdit = (User.IsInRole("admin") || Model.User.Id == UserManager.GetUserId(User));
}

<h2>@ViewData["Title"]</h2>

<div class="card shadow p-4">
    <h4>Contact Information</h4>
    <p><strong>Email:</strong> @Model.User.Email</p>
    <p><strong>Phone Number:</strong> @(string.IsNullOrEmpty(Model.User.PhoneNumber) ? "N/A" : Model.User.PhoneNumber)</p>

    <h4>Profile Details</h4>
    <p><strong>First Name:</strong> @Model.FirstName</p>
    <p><strong>Last Name:</strong> @Model.LastName</p>
    <p><strong>Address:</strong> @Model.Address</p>
    <p><strong>Department:</strong> @Model.Department</p>
    <p><strong>Position:</strong> @Model.Position</p>

    @if (canEdit)
    {
        <a asp-action="Edit" asp-route-userId="@Model.User.Id" class="btn btn-primary mt-3">Edit Profile</a>
    }
</div>